<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>Appel API Football Data via Proxy hébergé sur onrender.com</title>
</head>

<body>
  <h1>Matchs de Ligue 1</h1>
  <div id="result"></div>
  <script>
    fetch('https://proxy-football-api.onrender.com/api/matches')
      .then(response => {
        if (!response.ok) throw new Error('Erreur réseau');
        return response.json();
      })
      .then(data => {
        // Affichage simple des résultats
        const resultDiv = document.getElementById('result');
        if (data.matches && data.matches.length > 0) {
          let html = '<table border="1"><tr><th>Journée</th><th>Date</th><th>Domicile</th><th>Score</th><th>Extérieur</th></tr>';
          data.matches.forEach(match => {
            html += `<tr>
            <td>${match.matchday}</td>
            <td>${new Date(match.utcDate).toLocaleString('fr-FR')}</td>
            <td>${match.homeTeam.name}</td>
            <td style="text-align: center">${match.score.fullTime.home} - ${match.score.fullTime.away}</td>
            <td>${match.awayTeam.name}</td>
          </tr>`;
          });
          html += '</table>';
          resultDiv.innerHTML = html;
        } else {
          resultDiv.textContent = 'Aucun match trouvé.';
        }
      })
      .catch(error => {
        document.getElementById('result').textContent = 'Erreur : ' + error.message;
      });
  </script>
</body>

</html>